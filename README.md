# GSM gateway for rotary dial phone
### GSM-шлюз для телефона з дисковим номеронаберачем
## Описання
Застосування - для голосових дзвінків в мережі GSM з використанням звичайного аналогового телефонного апарата з дисковим номеронаберачем.  
Основні функції:  
1) одноканальний GSM-шлюз, до якого можна підключити один телефонний апарат
2) сигнал "відповідь станції" (dial tone) - 425Гц
3) посилка виклику - 25 Гц, 80 В; імпульс - 0,8с, пауза - 0,4с; можливі одинарні, або подвійні імпульси
4) час фіксації зняття, або звільнення слухавки - 0,8с
5) часові параметри імпульсів дискового номеронаберача повинні бути:  
час розмикання імпульсного контакту - 60 мс +- 10мс,  
час замикання імпульсного контакту - 40 мс +- 10мс
6) для підключення до мережі GSM використано модуль SIM800L https://www.mini-tech.com.ua/download/datasheet/communications/SIM800L_Hardware_Design_V1.00.pdf
7) реалізовано короткий набір із трьох цифр, де перша цифра "2" визначає, що подальший набір буде коротким; відповідність коротких наборів та їх реальних номерів визначається файлом phone_directory.json
8) для індикації номерів вхідних дзвінків та поточного стану шлюза підключається виносний індикаторний блок на базі екрану типу LCD 16x2

## AI-Generated Code Notice  
Some portions of this project’s codebase were generated with the assistance of AI tools (GitHub Copilot). All AI-generated code has been reviewed and adapted by a human prior to inclusion.

## Призначення файлів  

| File | Contain | Purpose |
| --- |  ---: |  --- |
| lib |  |Каталог, який містить необхідні модулі |
|  | measuring_time_intervals.py | Модуль для вимірювання часових інтервалів  |
|  | sim800L_lib.py | Модуль для роботи з SIM800L.  Даний код був згенерований за допомогою інструментів штучного інтелекту (GitHub Copilot). В подальшому був перевірений та адаптований людиною перед використанням.  |
|  | phone_bridge_lib.py | містить бібліотеки класів: Send_call - формує сигнал виклику 25 Гц, Dial_tone - формує сигнал 425Гц (dial tone), Handset - для відслідковування події зняття та звільнення слухавки  |
|  | lcd_i2c_16x2.py | містить клас для керування LCD-дисплеєм 16x2 через I2C. Даний код був згенерований за допомогою інструментів штучного інтелекту (GitHub Copilot). В подальшому був перевірений та адаптований людиною перед використанням.  |
||  |  |
| phone_bridge.py |  | Основний код GSM-шлюза  |
| phone_directory.json |  | Приклад json-файла телефонного довідника для використання коротких наборів |
| bridge_screen.py |  | Код для роботи виносного LCD-дисплея  |


## Принципова схема
![20250926_112742](https://github.com/user-attachments/assets/fa6f44ce-3b66-4fe3-a6e5-d61ed8f8b863)  
## Зовнішній вигляд монтажу прототипу
![20251001_122334](https://github.com/user-attachments/assets/136ac297-dace-4a1c-929e-7908ce6c6339)  

## Робота GSM-шлюза  
[Вхідний дзвінок](https://youtu.be/DODJJhKN8C8)  
[Вихідний дзвінок](https://youtu.be/qnDh9I-_DR8)  





